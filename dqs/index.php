<?php
    include('./db.php');
    include('./pages/session_handler.php');
    session_start();
    $login_stat = "";
    $current_date = date('Y-m-d');
    $result = mysqli_fetch_assoc(mysqli_query($conn, ("SELECT MAX(customer_id) AS max_customer_id FROM `sales` WHERE `purchase_date` = '$current_date';"))); //returns as `max_customer_id`
    $_SESSION['max-customer-id'] = $result;
    SDTS('test_1', $result['max_customer_id']);
    if($result['max_customer_id'] === null){
        SDTS('customer_id', 1);
        // echo "customer daw kay 1";

    }else{
        SDTS('customer_id', $result['max_customer_id']+1);
        // echo "customer daw kay na add";
    }
    SDTS('total_cart', 0.00);

?>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./master.css">
    <link rel="stylesheet" href="./style.css">
    <script src="./JSLibraries/jQuery/jquery-3.7.1.js"></script>
</head>
<body>
    <div id="container">
        <div id="upper">
            <?php echo $_SESSION['customer_id'] ?>
        </div>
        <div id="lower">
            <p>CART <br> NUMBER</p>
            <button onclick="window.location.href = './login_logic.php?start=start'">SHOP</button>
        </div>
    </div>
    <div id="admin-access">
        <svg class="svg-icon" style="vertical-align: middle; overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M315.392 507.904c-81.92-40.96-137.216-122.88-137.216-221.184 0-135.168 110.592-245.76 245.76-245.76s245.76 110.592 245.76 245.76c0 133.12-104.448 241.664-237.568 245.76h-2.048c-202.752 0-368.64 165.888-368.64 368.64 0 12.288-8.192 20.48-20.48 20.48s-20.48-8.192-20.48-20.48c0-186.368 124.928-344.064 294.912-393.216z m108.544-16.384c112.64 0 204.8-92.16 204.8-204.8s-92.16-204.8-204.8-204.8-204.8 92.16-204.8 204.8 92.16 204.8 204.8 204.8z m561.152 135.168l4.096 10.24-49.152 59.392c-8.192 10.24-8.192 26.624 0 36.864l49.152 57.344-4.096 10.24c-10.24 28.672-24.576 57.344-45.056 79.872l-8.192 8.192-75.776-12.288c-12.288-2.048-26.624 6.144-30.72 18.432l-26.624 73.728-10.24 2.048c-38.912 8.192-77.824 8.192-116.736 0l-12.288-2.048-24.576-71.68c-4.096-12.288-18.432-20.48-30.72-18.432l-77.824 12.288-8.192-8.192c-10.24-10.24-18.432-22.528-24.576-34.816-8.192-14.336-16.384-30.72-20.48-47.104l-4.096-10.24 51.2-57.344c8.192-10.24 8.192-26.624 0-34.816l-49.152-59.392 4.096-10.24c10.24-30.72 26.624-57.344 47.104-81.92l8.192-8.192 73.728 12.288c12.288 2.048 26.624-6.144 32.768-18.432l26.624-71.68 10.24-2.048c36.864-8.192 75.776-8.192 114.688 0l12.288 2.048 24.576 69.632c4.096 12.288 18.432 22.528 32.768 20.48l75.776-10.24 8.192 8.192c10.24 12.288 18.432 22.528 24.576 36.864 6.144 10.24 12.288 26.624 18.432 40.96z m-57.344-24.576c-4.096-8.192-8.192-14.336-14.336-22.528l-53.248 6.144c-32.768 4.096-65.536-16.384-75.776-47.104L768 491.52c-24.576-4.096-49.152-4.096-73.728 0l-18.432 49.152c-10.24 30.72-45.056 51.2-77.824 45.056l-51.2-8.192c-12.288 14.336-20.48 32.768-28.672 49.152l34.816 40.96c20.48 24.576 20.48 63.488 0 88.064l-34.816 40.96c4.096 10.24 8.192 18.432 14.336 28.672 4.096 8.192 8.192 14.336 14.336 20.48l55.296-8.192c32.768-4.096 65.536 16.384 75.776 47.104l16.384 49.152c24.576 4.096 51.2 4.096 75.776 0l18.432-51.2c10.24-30.72 45.056-51.2 75.776-45.056l51.2 8.192c10.24-14.336 20.48-30.72 26.624-49.152l-32.768-38.912c-20.48-24.576-22.528-63.488-2.048-88.064l34.816-40.96c-4.096-8.192-8.192-16.384-14.336-26.624z m-196.608 204.8c-51.2 0-92.16-40.96-92.16-92.16s40.96-92.16 92.16-92.16 92.16 40.96 92.16 92.16-43.008 92.16-92.16 92.16z m0-40.96c28.672 0 51.2-22.528 51.2-51.2s-22.528-51.2-51.2-51.2-51.2 22.528-51.2 51.2 22.528 51.2 51.2 51.2z"/>
        </svg>
    </div>
    <div id="login-panel" anchor="admin-access" style="display: none;">
        <main>
            <div id="admin" style="display: flex;">
                <error class="wrap-flex-items-row" style="gap: 1rem"> <!-- login_logic.php response -->
                    <h4>Employee</h4>
                    <h4 id="error" style="color: red; text-align: center; font-size: 10pt;"> <?php echo $login_stat?></h4>
                </error>
                <form action="./login_logic.php" method="post" id="admin-form"> <!-- script.js main line 29 - 51 -->
                    <input type="text" name="username" id="username" placeholder="USERNAME">
                    <input type="password" name="password" id="password" placeholder="PASSWORD">
                    <input type="submit" name="submit" id="" value="LOGIN">
                </form>
            </div>
        </main>
    </div>
    <div class="dqs-logo">
        <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 456.84 312.12">
            <path class="dqs-color" d="m231.07,239.87c-62.3,0-124.6,0-186.9,0-7.42,0-11.7-4.18-11.68-11.79.02-7.02,4.05-12.27,11.8-12.27,45.04-.01,90.07,0,135.11,0,79.41,0,158.83,0,238.24,0,4.66,0,8.75,1.45,10.95,6.31,2.32,5.13,1.72,10.47-1.93,14.38-1.85,1.99-5.15,3.24-7.8,3.25-62.6.18-125.2.14-187.8.14Z"/>
            <path class="dqs-color" d="m163.56,96.44c-39.79,0-79.57,0-119.36-.01-4.46,0-7.77-2.02-10.09-6.52-2.57-4.96-1.83-9.34,1.05-13.52,3.11-4.51,7.98-4.76,12.34-4.79,41.44-.22,82.87-.17,124.31-.18,33.34-.01,66.68-.08,100.02.08,4.95.02,9.92,1,14.83,1.91,5.4,1,7.66,5.77,7.05,13.18-.44,5.43-5.11,9.8-10.34,9.82-15.61.05-31.23.02-46.84.03-24.32,0-48.64,0-72.97,0Z"/>
            <path class="dqs-color" d="m346.99,168.56c-22.96,0-45.91-.03-68.87.02-7.6.02-12.94-4.85-13.2-12.3-.23-6.81,4.65-11.98,11.97-12.63,1.19-.11,2.4-.05,3.6-.05,44.71,0,89.42-.07,134.13.12,3.65.02,7.65,1.01,10.84,2.91,4.07,2.43,5.43,8.17,4.18,12.58-1.62,5.72-6.33,9.44-11.99,9.44-23.56,0-47.11,0-70.67,0,0-.03,0-.06,0-.08Z"/>
            <path class="dqs-color" d="m367.25,96.45c-17.11,0-34.23,0-51.34,0-6.4,0-10.86-3.99-11.37-9.56-.91-9.86,3.96-14.31,10.52-14.51,9.38-.29,18.75-.84,28.13-.91,20.87-.14,41.74-.1,62.6,0,5.04.03,10.1.43,15.12.96,5.53.59,9.18,6.1,8.9,13-.23,5.74-5.02,10.96-10.32,10.98-17.41.05-34.83.02-52.24.02v.02Z"/>
            <path class="dqs-color" d="m162.77,179.7c7.2,0,14.42-.33,21.6.1,6.5.39,10.51,2.19,12.61,9,1.9,6.15-2.96,14.99-8.5,15.04-15.66.14-31.33.95-46.99.79-7.9-.08-11.32-5.05-11.86-12.83-.46-6.59,3.75-11.71,11.09-12.02,7.34-.31,14.7-.07,22.05-.08Z"/>
            <path class="dqs-color" d="m298.92,132.53c-7.2,0-14.41-.31-21.58.08-8.47.46-14.41-8.25-11.2-17.87,1.35-4.05,4.61-5.87,8.23-6.18,6.8-.58,13.63-1.04,20.44-1,9.68.05,19.35.54,29.02.95,5.07.22,9.38,5.7,9.51,11.83.13,5.95-5.08,12.08-10.58,12.17-7.94.12-15.89.03-23.84.02Z"/>
            <path class="dqs-color" d="m164.29,168.66c-8.74,0-15.78.02-22.82,0-5.94-.02-11.22-5.08-11.75-10.68-.89-9.42,4.98-13.98,10.8-14.18,14.67-.49,29.36-.43,44.04-.07,5.32.13,10.35,1.9,12.32,8.82,1.77,6.24-1.57,12.07-6.98,14.28-9.07,3.71-18.26.43-25.6,1.83Z"/>
            <path class="dqs-color" d="m162.96,132.53c-7.35,0-14.71.04-22.06-.01-4.39-.03-9.79-4.2-10.99-8.35-1.42-4.9.12-11.3,4.41-13.94,2.9-1.79,6.65-2.52,10.04-2.61,11.55-.31,23.11-.23,34.67-.06,3.66.05,7.49.2,10.94,1.4,6.08,2.13,7.52,6.48,7.28,12.76-.23,5.9-5.43,10.63-11.31,10.77-7.65.18-15.31.04-22.96.04Z"/>
            <path class="dqs-color" d="m295.57,179.21c7.7.49,15.43.65,23.08,1.61,4.81.61,7.49,5.13,7.54,10.84.05,5.88-2.85,10.9-7.31,12-2.69.66-5.49.96-8.25.99-10.63.13-21.28.49-31.89-.04-6.74-.34-11.55-1.17-12.86-9.33-1.72-10.66,3.64-15.06,10.8-15.49,6.27-.38,12.58-.08,18.87-.08,0-.16.01-.33.02-.49Z"/>
            <path class="dqs-color" d="m30.46,179.21c7.7.49,15.43.65,23.08,1.6,4.81.6,7.69,5.22,7.74,10.64.06,6.16-2.87,11.11-7.55,12.21-2.69.63-5.49.95-8.25.98-10.48.12-20.98.44-31.44-.03-7.19-.32-11.64-1.58-13.09-9.11-1.72-8.95,2.75-15.64,11.07-15.79,6.14-.12,12.28-.02,18.42-.02l.02-.49Z"/>
            <path class="dqs-color" d="m295.48,312.07c-6.29,0-12.58.03-18.87,0-6.21-.04-11.49-5.41-11.69-11.83-.21-6.83,3.79-11.8,10.51-12.14,11.14-.57,22.3-.8,33.45-.97,3.08-.05,6.2.38,9.23,1,5.52,1.14,8.49,6.19,8.08,13.21-.32,5.53-5.08,10.56-10.49,10.7-6.74.17-13.48.04-20.22.03Z"/>
            <path class="dqs-color" d="m30.83,168.6c-6,0-12.05.53-17.98-.2-3.47-.43-7.89-1.83-9.88-4.58-5.84-8.05-1.85-19.72,8.87-20.09,12.14-.41,24.3-.29,36.44,0,2.92.07,6.13,1.1,8.63,2.77,4,2.68,5.45,8.07,4.26,12.57-1.45,5.49-6.12,9.5-11.44,9.58-6.3.09-12.6.02-18.89.02,0-.02,0-.04,0-.07Z"/>
            <path class="dqs-color" d="m30.63,132.53c-6.15,0-12.3.05-18.45-.01-6.66-.07-11.5-4.9-12.15-12.01-.49-5.37,4.32-11.68,10.34-11.9,12.88-.46,25.79-.24,38.69-.05,2.68.04,5.74.49,7.94,1.99,4.13,2.81,5.53,8.74,4.07,13.62-1.25,4.18-6.64,8.21-11.56,8.32-6.3.14-12.6.03-18.9.03Z"/>
            <path class="dqs-color" d="m295.45,275.96c-6.6,0-13.21.05-19.81-.02-5.47-.05-10.52-5.75-10.68-11.91-.16-5.99,4.57-11.97,10.18-12.05,13.8-.21,27.61-.19,41.42-.02,5.74.07,9.68,5.36,9.63,12.17-.05,6.66-4.16,11.66-10.03,11.8-6.9.16-13.81.04-20.71.03Z"/>
            <path class="dqs-color" d="m159.35,24.24c-6.31,0-12.61,0-18.92,0-6.38-.01-10.4-4.16-10.68-10.84-.35-8.22,3.54-12.85,10.11-13.08,13.35-.46,26.73-.38,40.09-.06,7.27.18,10.47,5.03,10.18,13.9-.19,5.89-4.68,10.04-10.96,10.07-6.61.03-13.21,0-19.82,0Z"/>
            <path class="dqs-color" d="m160.01,60.34c-6.45,0-12.9.04-19.34-.01-6.84-.06-10.92-4.71-10.9-12.29.02-7.15,4.2-11.74,10.85-11.76,12.9-.04,25.79-.05,38.69,0,6.9.03,10.83,4.55,10.83,12.26,0,7.23-4.09,11.73-10.78,11.78-6.45.05-12.9.01-19.34,0Z"/>
            <path class="dqs-color" d="m430.92,205.19c-7.09-.48-14.22-.56-21.25-1.56-5.87-.84-9.09-6.08-8.7-12.46.38-6.14,4.76-11.29,10.3-11.37,12.88-.2,25.76-.22,38.64-.03,6.5.1,6.92.87,6.92,8.02,0,2.5,0,5,0,7.5,0,8.95-.52,9.51-8.82,9.47-2.84-.01-5.69-.01-8.54-.01-2.85,0-5.69,0-8.54,0,0,.15-.01.31-.02.46Z"/>
        </svg>
    </div>
<script src="./script.js" defer></script>
</body>
</html>